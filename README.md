# Cache Simulation Project

## Overview

This project simulates various cache architectures, including Direct-Mapped Cache (DMC), Fully Associative Cache (FAC), Set-Associative Cache (SAC), and a Simple Cache. The simulation allows users to test the behavior of these caches under different conditions using provided test files.

## Project Structure

* **mainmem.py**: Defines the main memory class used by all caches
* **simple.py**: Implements the Simple Cache
* **direct.py**: Implements the Direct-Mapped Cache (DMC)
* **fully.py**: Implements the Fully Associative Cache (FAC)
* **setassoc.py**: Implements the Set-Associative Cache (SAC)
* **tests/**: Contains `.test` files used for testing the caches and directories with result files.

#### `tests/` Directory Structure

* **`results/<cache_type>/`**: Contains the result files for each cache type (`dmc`, `fac`, `sac`)
* **`test/<cache_type>/`**: Contains the test files for each cache type (`dmc`, `fac`, `sac`, `simple`)

## Getting Started

1. **Clone the repository to your local machine:**

```bash
git clone https://github.com/fiidalgo/cache-sim.git
```

2. **Navigate to the project directory:**

```bash
cd cache-sim
```

3. **Create and activate a virtual environment (recommended):**

```bash
python3 -m venv venv
source venv/bin/activate
```

4. **Install the required dependencies:**

```bash
pip install -r requirements.txt
```

## How to Run the Simulation

You can simulate the behavior of different caches by running the `CacheRunner` class. The following steps will guid you through testing a specific cache type.

#### Running a Test

1. **Choose a Cache Type:** Decide which cache type you want to test (simple, dmc, fac, sac)

2. **Run the Simulation:** Use the following command to run the simulation, replacing `<cache_type>` with the cache type you want to test and `<testfile>` with the appropriate test file:

```bash
python3 runcache.py --cachetype <cache_type> --testfile tests/<testfile>.test
```

Example:

```bash
python3 runcache.py --cachetype dmc --testfile tests/t21.test
```

3. **View the Results:** The simulation will output the results directly in the terminal.

## Verifying Cache Results

To verify that the cache simulation is working correctly:

1. **Locate the Result File:** After running the simulation, navigate to the `tests/results_<cache_type>` directory and find the corresponding result file. The result files are typically named after the test files with a `.txt` extension.

2. **Compare the Output:** Open the result file generated by the simulation and compare it to the expected result file in the `tests/results_<cache_type>` directory. The contents should match if the cache simulation is functioning correctly.

